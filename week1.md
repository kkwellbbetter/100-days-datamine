
# week1
# 描述数据的集中趋势(或叫用一个数字表示所有的数值)
## 问题的引入
23 29 20 32 23 21 33 25这几个数字求均值、中位数、众数、分位数、极差、算术平均、加权平均、几何平均数

### 1求均值mean 
#### 均值: mean，数列的算术平均值，反应了数列的集中趋势,等于有效数值的和除以有效数值的个数．
#### what 集中趋势？
#### 集中趋势（Central Tendency）是指一组数据向某一中心值靠拢的程度，它反映了一组数据中心点的位置所在。
### 代码


```python
import numpy as np
nums = [23,29, 20, 32, 23, 21, 33 ,25]
mean = np.mean(nums)
print("nums的均值为：",mean)
```

    nums的均值为： 25.75
    

### 求中位数
#### 中位数: median，等于排序后中间位置的值，当数列长度为偶数时，取中间两个值的均值．
#### 中位数也可以表征一组数据的集中趋势
### 代码


```python
median = np.median(nums)
print("nums的中位数为：",median)
```

    nums的中位数为： 24.0
    

### 求众数
#### 众数: mode，等于数列出现次数最多的数字，当多个数字都出现最高次数时，多个数字都是众数．
### 代码
### numpy中没有直接的方法求众数
#### 其中np.bincount方法返回了一个长度为nums最大值的列表，列表中的每个值代表其索引位数值出现在nums中的次数，例如
#### 返回[2,1,0]，代表0在nums中出现2次，而1在nums中出现1次，2在nums中出现0次。
#### 然后再使用np.argmax就能得到众数啦。但是，由于索引值是从0开始的，所以这种求众数的方法只能用在非负数据集。



```python
#方法一  不推荐
count = np.bincount(nums)
print(count)
mode1 = np.argmax(count)
print("nums的众数是：",mode1)

#方法二
from scipy import stats
mode2 = stats.mode(nums)[0][0]
print("nums的众数是：",mode2)
```

    [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 0 2 0 1 0 0 0 1 0 0 1 1]
    nums的众数是： 23
    nums的众数是： 23
    

### 问题一
#### 为什么描述数据的集中趋势均值就够了，还要带上众数和中位数？
比如说一个例子  3，6，6，6，6，6，6，6，6，6，6，6，1000
求mean是一个2位数或者三位数但是从数据中可以看出这组数据明显是有一个很大的离散值导致的，所以有些时候均值并不能很好的体现数据的集中趋势
所以考虑这种问题我们要用以上这三个方法，而不是单一的片面的使用一种方法估计。

### 求极差
#### range（极差或全距） 是数列X中最大值与最小值之间的差值，用于描述X的数字分散程度，越小则数字之间越紧密
### 求中程数
#### midrange（中程数） = 数列X中（最大值 + 最小值）/2
### 代码


```python
range = np.max(nums)-np.min(nums)
print("nums的极差是：",range)
midrange = (np.max(nums)+np.min(nums))/2
print("nums的中程数是：",midrange)
```

    nums的极差是： 13
    nums的中程数是： 26.5
    

### 求算术平均、加权平均、几何平均数
#### ![image.png](attachment:image.png)

#### ![image.png](attachment:image.png)
### 代码
#### 求算术平均数的代码等于求均值的代码


```python
#几何平均数
def compute_harmonic_mean(nums):
    size = len(nums)
    return pow(np.sum(nums),1.0/size)
compute_mean = compute_harmonic_mean(nums)
print("几何平均数是：",compute_mean)
#加权平均数
nums = [23,29, 20, 32, 23, 21, 33 ,25]
weights = [2/8,1/8,1/8,1/8,2/8,1/8,1/8,1/8]
av = np.average(nums, weights=weights)
print("加权平均数是：",av)
```

    几何平均数是： 1.9464058559702753
    加权平均数是： 25.2
    

# 上面讲的知识只是能知道一堆数据用一个什么数字能代表
# 但是我们并不知道数据集内部各个数据到底是什么样子的比如，
# 每个数据是靠近该集中趋势，还是远离该集中趋势
# 描述数据的离中趋势


### 数值型数据：方差、标准差、平均差
#### 方差与标准差
#### 方差（variance)是在概率论和统计方差衡量随机变量或一组数据时离散程度的度量。概率论中方差用来度量随机变量和其数学期望（即均值）之间的偏离程度。统计中的方差（样本方差）是各个数据分别与其平均数之差的平方的和的平均数。在许多实际问题中，研究方差即偏离程度有着重要意义。而标准差就是对方差的开方。
##### 方差的公式 
![image.png](attachment:image.png)

##### 标准差的公式
![image.png](attachment:image.png)


### 问题二：为什么有了方差还需要标准差？
#### 标准差和均值的量纲（单位）是一致的，在描述一个波动范围时标准差比方差更方便。
### 代码


```python
var = np.var(nums)
print('nums的方差是：',var)
std = np.std(nums)
print('nums的标准差是：',std)
```

    nums的方差是： 21.6875
    nums的标准差是： 4.656984002549289
    

#### 平均差
#### 平均差（Mean Deviation）是表示各个变量值之间差异程度的数值之一。指各个变量值同平均数的离差绝对值的算术平均数。
#### 平均差告诉我们，每个数据值平均离中心有多远。
![image.png](attachment:image.png)

### 代码


```python
mean_dev_temp = nums - np.mean(nums)
num = 0
for i in range(len(nums)-1):
    num += abs(mean_dev_temp[i])
#测试用   
print(num)
print(mean_dev)

mean_dev= num/len(nums)
print('平均差是',mean_dev)
```

    平均差是 4.09375
    32.75
    4.09375
    

### 问题二 为什么样本方差分母为n-1
为什么样本方差（sample variance）的分母是 n-1？ - 张英锋的回答 - 知乎
https://www.zhihu.com/question/20099757/answer/658048814

### 顺序数据：四分位差、异众比率
#### 四分位差：四分位差：即数据样本的上四分之一位和下四分之一位的差值，反应了数据中间50%部分的离散程度，其数值越小表明数据越集中，数值越大表明数据越离散，同时由于中位数位于四分位数之间，故四分位差也放映出中位数对于数据样本的代表程度，越小代表程度越高，越大代表程度越低。
![image.png](attachment:image.png)
#### 异众比率（variation ratio）是统计学名词，是统计学当中研究现象离中趋势的指标之一。异众比率指的是总体中非众数次数与总体全部次数之比。换句话说，异众比率指非众数组的频数占总频数的比例。
![image.png](attachment:image.png)
#### 举个例子-----from 百度百科
#### 譬如，我们通过计算求出一项50人调查中，购买其它品牌饮料（指除可口可乐之外的品牌）的人数达到70%的异众比率，异众比率比较大，那么，说明用“可口可乐”来代表消费者购买饮料品牌的状况，其代表性比较差，其众数代表性就不是很明显。

### 代码


```python
#求四分位差
#，在计算的过程中，我们考虑p分位。当p=0.25 0.5 0.75 时，就是在计算四分位数。
qr = np.percentile(nums,[25,50,75])
print('nums的四分位列表为：',qr)
#四分位差也可求
```

    nums的四分位差为： [22.5  24.   29.75]
    

### 相对离散程度：离散系数
#### 离散系数：在概率论和统计学中，变异系数，又称“离散系数”（英文：coefficient of variation），是概率分布离散程度的一个归一化量度，其定义为标准差与平均值 之比
![image.png](attachment:image.png)
### 代码


```python
c_var = std/mean
print('nums的离散系数为：',c_var)
```

    nums的离散系数为： 0.18085374767181706
    

###  数据分布形状：偏态系数、峰态系数

###   峰度和偏度是统计学中两个十分重要的统计量，他们在量化交易领域也是十分有用的指标。首先，我们要了解一下峰度和偏度的定义。
###    峰度（Kurtosis），是衡量离群数据离群度的指标。其与随机分布的四阶中心矩相对应，是数据序列的四阶中心矩与标准差的四次幂之比：
![image.png](attachment:image.png)

###   正态分布的峰度值为3，此时也称为常峰态；当峰度值大于3时，称为尖峰态，此时概率密度函数相较于正态分布而言具有较高的峰部和更长更肥的尾部；当峰度值小于3时，称为低峰态，此时概率密度函数相较于正态分布而言具有较平坦的峰部和更短更细的尾部。另外，实际应用中，我们一般将真实峰度减去3，从而峰度值是与数字0进行比较的。
![image.png](attachment:image.png)

###   偏度（Skewness），是衡量统计数据分布偏斜方向和程度的度量，是统计数据分布非对称程度的数字特征。其与随机分布的三阶中心矩相对应，是数据序列的三阶中心矩与标准差的三次幂之比：
![image.png](attachment:image.png)

###   当偏度值为零时，概率密度函数是左右对称的；当偏度值为正时，对应分布的正偏（左偏），此时概率密度函数的右尾相对更长或者更肥；当偏度值为负时，对应分布的负偏（右偏），此时概率密度函数的左尾相对更长或者更肥。
![image.png](attachment:image.png)

###   在量化研究中，峰度和偏度可以应用在数据的分布特征分析以及正态性检验。除了一些表征集中趋势的指标（众数、中位数、分位数、均值、几何平均数、切尾均值）和一些表征离散程度的指标（极差、内距、方差和标准差、离散系数）外，峰度和偏度的分析可让我们直观地了解数据的分布形状，并与正态分布做比较。若数据是服从正态分布的，那么金融市场上众多基于正态分布假设的量化模型便可得以应用了。

### 问题三如何理解统计学中「自由度」这个概念？ - DeviliveD的回答 - 知乎
https://www.zhihu.com/question/20983193/answer/28228799
